<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  .music-player {
  display: none; /* default hidden */
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #1f1937;
  color: white;
  padding: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.4);
  font-family: sans-serif;
}

.music-player img {
  width: 50px;
  height: 50px;
  border-radius: 6px;
  margin-right: 10px;
}

.player-info {
  display: flex;
  align-items: center;
}

.player-controls button {
  background: transparent;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
  margin: 0 5px;
}

.player-progress {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 5px;
}

#progressBar {
  width: 100%;
}

</style>
<body>
  <!-- Music Player -->
<div id="music-player" class="music-player">
  <div class="player-info">
    <img id="track-image" src="" alt="Album Art">
    <div>
      <h4 id="track-title">Title</h4>
      <p id="track-artist">Artist</p>
    </div>
  </div>
  <div class="player-controls">
    <button id="prevBtn">⏮</button>
    <button id="playPauseBtn">▶️</button>
    <button id="nextBtn">⏭</button>
  </div>
  <div class="player-progress">
    <span id="current-time">0:00</span>
    <input type="range" id="progressBar" value="0" step="1">
    <span id="duration">0:00</span>
  </div>
</div>

<!-- Example Song Button -->
<button onclick="playSong('Midnight City', 'M83', 'assets/images/song.jpg', 'assets/music/midnight.mp3')">
  Play Midnight City
</button>

<audio id="audio"></audio>


<script>
  const audio = document.getElementById("audio");
const musicPlayer = document.getElementById("music-player");

const trackTitle = document.getElementById("track-title");
const trackArtist = document.getElementById("track-artist");
const trackImage = document.getElementById("track-image");

const playPauseBtn = document.getElementById("playPauseBtn");
const progressBar = document.getElementById("progressBar");
const currentTimeEl = document.getElementById("current-time");
const durationEl = document.getElementById("duration");

function playSong(title, artist, image, src) {
  // Show player
  musicPlayer.style.display = "flex";

  // Set details
  trackTitle.textContent = title;
  trackArtist.textContent = artist;
  trackImage.src = image;

  // Load & play song
  audio.src = src;
  audio.play();
  playPauseBtn.textContent = "⏸";
}

// Play / Pause
playPauseBtn.addEventListener("click", () => {
  if (audio.paused) {
    audio.play();
    playPauseBtn.textContent = "⏸";
  } else {
    audio.pause();
    playPauseBtn.textContent = "▶️";
  }
});

// Update progress bar
audio.addEventListener("timeupdate", () => {
  progressBar.max = audio.duration;
  progressBar.value = audio.currentTime;
  
  // format time mm:ss
  currentTimeEl.textContent = formatTime(audio.currentTime);
  durationEl.textContent = formatTime(audio.duration);
});

// Seek
progressBar.addEventListener("input", () => {
  audio.currentTime = progressBar.value;
});

// Format function
function formatTime(seconds) {
  const min = Math.floor(seconds / 60);
  const sec = Math.floor(seconds % 60).toString().padStart(2, "0");
  return `${min}:${sec}`;
}

</script>
</body>
</html>